// universal timer
function Timer(t,i){var n,e,o=!1,u=t,s=i;this.pause=function(){o=!0,n&&window.clearTimeout(n),s-=new Date-e},this.restart=function(t){void 0!==t&&(u=t),n&&window.clearTimeout(n),s=i,this.play()},this.play=function(){o=!1,e=new Date,n=window.setTimeout(u,s)},this.getTime=function(){return s},this.isPaused=function(){return o},this.play()}

/**
 * jQuery SlideShow
 *
 * @author DaVee8k
 * @version 0.40.0
 * @license https://unlicense.org/
 */
!function(c){c.fn.slideShow=function(t){var a=this;return this.page=void 0!==t.page?t.page:"a",this.classActive=void 0!==t.classActive?t.classActive:null,this.classOn=void 0!==t.classOn?t.classOn:null,this.classOff=void 0!==t.classOff?t.classOff:"slide-off",this.effect=void 0!==t.effect?t.effect:"fade",this.pause=void 0!==t.pause?t.pause:5e3,this.duration=void 0!==t.duration?t.duration:1200,this.elmArrow=null,this.elmPager=null,this.pages=Array(),this.current=0,this.count=0,this.timer=null,this.playing=!0,this.init=function(){return this.pages=c(this).find(this.page),this.count=this.pages.length,1<this.count},this.loadPageData=function(t){t=c(this.pages[t]).data("slideshow");t&&(0===t.pause&&(this.playing=!1),void 0!==t.action&&window[t.action]())},this.createArrows=function(t,s){t&&0!==c("#"+t).length?t&&(this.elmArrow=c("#"+t)):(this.elmArrow=c("<div"+(t?' id="'+t+'"':"")+' class="'+s+'"><button class="'+s+'-left"></button><button class="'+s+'-right"></button></div>'),c(this).after(this.elmArrow)),c(this.elmArrow).find("."+s+"-left").click(function(t){t.preventDefault(),a.showNext(!1)}),c(this.elmArrow).find("."+s+"-right").click(function(t){t.preventDefault(),a.showNext(!0)})},this.createPager=function(t,s){if(t&&0!==c("#"+t).length)t&&(this.elmPager=c("#"+t));else{this.elmPager=c("<div"+(t?' id="'+t+'"':"")+(s?' class="'+s+'"':"")+"></div>");for(var i=0;i<this.count;i++)c(this.elmPager).append('<button href="#"><span>'+(i+1)+"</span></button>");c(this.elmPager).find("button:nth-child("+this.current+"1)").addClass("active"),c(this).after(this.elmPager)}c(this.elmPager).find("button").click(function(t){var s=Number.parseInt(c(this).children("span").text())-1;t.preventDefault(),a.showNum(s)}),this.initPause(this.elmPager)},this.initPause=function(t){this.pause&&c(t).hover(function(){a.timer.pause()},function(){a.timer.play()})},this.showNext=function(t){t=this.current+(t?1:-1);t<0?t=this.count-1:t>=this.count&&(t=0),this.showNum(t)},this.showNum=function(t){if(t===this.current||t>=this.count)return!1;c(this.pages[this.current]).stop(!0,!0),this.timer&&this.timer.pause();var s=this.pages[t],i=c(s).data("src"),e=c(s).find("img").data("src")||c(s).find("img").attr("src");return void 0!==i||e?this.loadSrc(s,function(){a.changeSlide(t)}):this.changeSlide(t),!0},this.loadSrc=function(t,s){var i=c(t).data("src"),e=c(t).find("img");if(void 0!==i){var a=new Image;c(t).removeAttr("data-src").removeData("src"),c(a).one("load",function(){c(t).css("background-image",'url("'+i+'")'),s&&s()}).attr("src",i)}else if(e)for(var n=c(e).length,h=0;h<c(e).length;h++){var a=c(e).get(h),r=c(a).data("src")||c(a).attr("src");c(a).removeAttr("loading"),a.onload=function(){c(this).removeAttr("data-src").removeData("src"),0==--n&&s&&s()},a.onerror=function(){0==--n&&s&&s()},a.src=r}},this.changeSlide=function(t){var s=this.current;c(this.pages[s]).stop(!0,!0),c(this.pages[t]).stop(!0,!0),this.current=t,this.playing=!0,this.loadPageData(this.current),this.timer&&(!0===this.playing?this.timer.restart():this.timer.pause()),this.elmPager&&this.changeDot(this.current),this.classOff&&c(this.pages[s]).addClass(this.classOff),this.classOn&&c(this.pages[this.current]).addClass(this.classOn),this.classActive&&(c(this.pages[s]).removeClass(this.classActive),c(this.pages[this.current]).addClass(this.classActive));var i,e="relative"===c(this.pages[s]).css("position"),t=this.current>s&&!(0===s&&this.current===a.count-1)||0===this.current&&s===a.count-1;"toggle"===this.effect||e?(this.classActive||c(this.pages[this.current]).show(),setTimeout(function(){a.changeFinish(a.pages[a.current],s)},e?0:this.duration)):"slide"===this.effect?(i=c(this).width()*(t?1:-1),c(this.pages[s]).animate({left:i+"px"},this.duration),c(this.pages[this.current]).css("left",-i+"px").show().animate({left:0},this.duration,function(){a.changeFinish(this,s),c(a.pages[s])[0].style.left=null})):"drop"===this.effect?(i=c(this.pages[this.current]).height()*(t?1:-1),c(this.pages[s]).animate({top:i+"px"},this.duration),c(this.pages[this.current]).css("top",-i+"px").show().animate({top:0},this.duration,function(){a.changeFinish(this,s),c(a.pages[s])[0].style.top=null})):c(this.pages[this.current]).fadeIn(this.duration,function(){a.changeFinish(this,s)})},this.changeFinish=function(t,s){this.classActive||c(this.pages[s]).hide(),this.classOff&&c(this.pages[s]).removeClass(this.classOff),this.classOn&&c(t).removeClass(this.classOn)},this.changeDot=function(t){c(this.elmPager).find("a.active").removeClass("active"),c(this.elmPager).find("a:nth-child("+(t+1)+")").addClass("active")},this.init()&&(this.loadSrc(this.pages[this.current],null),this.loadPageData(this.current),void 0!==t.arrows&&!1!==t.arrows&&this.createArrows("boolean"==typeof t.arrows?"":t.arrows,void 0!==t.arrowsClass?t.arrowsClass:"slider-arrows"),void 0!==t.pager&&!1!==t.pager&&this.createPager("boolean"==typeof t.pager?"":t.pager,void 0!==t.pagerClass?t.pagerClass:null),this.classActive||c(this).find(this.page).slice(1).hide(),this.classActive&&!c(this.pages[this.current]).hasClass(this.classActive)&&c(this.pages[this.current]).addClass(this.classActive),this.pause&&(this.timer=new Timer(function(){a.showNext(!0)},this.pause),!1===this.playing&&this.timer.pause())),{getCurrent:function(){return a.current},getCount:function(){return a.count},pause:function(){a.pause&&a.timer.pause()},play:function(){a.pause&&a.timer.play()},showNum:function(t){a.showNum(t)},showNext:function(t){a.showNext(t)}}}}(jQuery);