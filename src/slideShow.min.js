// universal timer
function Timer(t,i){var n,e,o=!1,u=t,s=i;this.pause=function(){o=!0,n&&window.clearTimeout(n),s-=new Date-e},this.restart=function(t){void 0!==t&&(u=t),n&&window.clearTimeout(n),s=i,this.play()},this.play=function(){o=!1,e=new Date,n=window.setTimeout(u,s)},this.getTime=function(){return s},this.isPaused=function(){return o},this.play()}

/**
 * Jquery Slide Show - fade works on absolute only
 *
 * @author DaVee8k
 * @version 0.35.1
 * @license WTFNMFPL 1.0
 */
!function(s){s.fn.slideShow=function(t){var i=this;return this.page=void 0!==t.page?t.page:"a",this.classCurrent=void 0!==t.classCurrent&&t.classCurrent,this.classOn=void 0!==t.classOn?t.classOn:"active",this.classOff=void 0!==t.classOff&&t.classOff,this.arrows=void 0!==t.arrows&&t.arrows,this.pager=void 0!==t.pager&&t.pager,this.effect=void 0!==t.effect?t.effect:"fade",this.pause=void 0!==t.pause?t.pause:5e3,this.duration=void 0!==t.duration?t.duration:600,this.timer=!1,this.playing=!0,this.pages=Array(),this.current=0,this.count=0,this.init=function(){return this.pages=s(this).find(this.page),this.count=this.pages.length,this.count>1},this.loadPageData=function(t){var i=s(this.pages[t]).data("slideshow");i&&(0===i.pause&&(this.playing=!1),void 0!==i.action&&window[i.action]())},this.createArrows=function(t,e){0===s("#"+t).length&&s(this).after('<div id="'+t+'"><a href="#" class="'+e+'-left"></a><a href="#" class="'+e+'-right"></a></div>'),s("#"+t).find("."+e+"-left").click(function(){return i.showNext(!1)}),s("#"+t).find("."+e+"-right").click(function(){return i.showNext(!0)})},this.createPager=function(t,e){if(0===s("#"+t).length){s(this).after('<div id="'+t+'"'+(e?' class="'+e+'"':"")+"></div>");for(var a=0;a<this.count;a++)s("#"+t).append('<a href="#"><span>'+(a+1)+"</span></a>");s("#"+t).children("a").eq(this.current).addClass("select")}for(a=0;a<this.count;a++)s(s("#"+t).find("a").eq(a)).click(function(){return i.showNum(s(this).children("span").text()-1),!1});this.pause&&s("#"+t).hover(function(){i.timer.pause(),s(this).addClass("ie-fix-slider-hover")},function(){i.playing&&i.timer.play(),s(this).removeClass("ie-fix-slider-hover")})},this.showNext=function(s){var t=this.current+(s?1:-1);return t<0?t=this.count-1:t>=this.count&&(t=0),this.showNum(t),!1},this.showNum=function(t){if(t===this.current||t>=this.count)return!1;s(this.pages[this.current]).stop(!0,!0),this.timer&&this.timer.pause();var e=this.pages[t],a=s(e).data("src"),r=s(e).find("img").data("src")||s(e).find("img").attr("src");void 0!==a||r?this.loadSrc(e,function(){i.changeSlide(t)}):this.changeSlide(t)},this.loadSrc=function(t,i){var e=s(t).data("src"),a=s(t).find("img");if(void 0!==e){var r=new Image;s(t).removeAttr("data-src").removeData("src"),s(r).one("load",function(){s(t).css("background-image",'url("'+e+'")'),i&&i()}).attr("src",e)}else if(a)for(var h=s(a).length,n=0;n<s(a).length;n++){r=s(a).get(n);var c=s(r).data("src")||s(r).attr("src");s(r).removeAttr("loading"),r.onload=function(){s(this).removeAttr("data-src").removeData("src"),0==--h&&i&&i()},r.onerror=function(){0==--h&&i&&i()},r.src=c}},this.changeSlide=function(t){var e=this.current;this.current=t,this.playing=!0,this.loadPageData(this.current),this.timer&&(!0===this.playing?this.timer.restart():this.timer.pause(),this.pager&&s("#"+this.pager).hasClass("ie-fix-slider-hover")&&this.timer.pause()),this.pager&&this.changeDot(this.current),this.classOff&&s(this.pages[e]).addClass(this.classOff),this.classOn&&s(this.pages[this.current]).addClass(this.classOn),this.classCurrent&&(s(this.pages[e]).removeClass(this.classCurrent),s(this.pages[this.current]).addClass(this.classCurrent));var a="relative"===s(this.pages[e]).css("position"),r=this.current>e&&!(0===e&&this.current===i.count-1)||0===this.current&&e===i.count-1;if("toggle"===this.effect||a)this.classCurrent||s(this.pages[this.current]).show(),setTimeout(function(){i.changeFinish(i.pages[i.current],e)},a?0:this.duration);else if("slide"===this.effect){var h=r?s(this).width():-s(this).width();s(this.pages[e]).animate({left:h+"px"},this.duration),s(this.pages[this.current]).css("left",-h+"px").show().animate({left:0},this.duration,function(){i.changeFinish(this,e),s(i.pages[e])[0].style.left=null})}else if("drop"===this.effect){h=r?s(this).height():-s(this).height();s(this.pages[e]).animate({top:h+"px"},this.duration),s(this.pages[this.current]).css("top",-h+"px").show().animate({top:0},this.duration,function(){i.changeFinish(this,e),s(i.pages[e])[0].style.top=null})}else s(this.pages[this.current]).fadeIn(this.duration,function(){i.changeFinish(this,e)})},this.changeFinish=function(t,i){"toggle"===this.effect&&this.classCurrent||s(this.pages[i]).hide(),this.classOff&&s(this.pages[i]).removeClass(this.classOff),this.classOn&&s(t).removeClass(this.classOn)},this.changeDot=function(t){s("#"+this.pager).find("a.select").removeClass("select"),s("#"+this.pager).find("a:nth-child("+(t+1)+")").addClass("select")},this.init()&&(this.loadSrc(this.pages[this.current],null),this.loadPageData(this.current),!1!==this.arrows&&this.createArrows(this.arrows,void 0!==t.arrowsClass?t.arrowsClass:"slider-arrow"),!1!==this.pager&&this.createPager(this.pager,void 0!==t.pagerClass&&t.pagerClass),"toggle"===this.effect&&this.classCurrent||s(this).find(this.page).slice(1).hide(),this.classCurrent&&!s(this.pages[this.current]).hasClass(this.classCurrent)&&s(this.pages[this.current]).addClass(this.classCurrent),this.pause&&(this.timer=new Timer(function(){i.showNext(!0)},this.pause),!1===this.playing&&this.timer.pause())),{showNum:function(s){i.showNum(s)},showNext:function(s){i.showNext(s)}}}}(jQuery);